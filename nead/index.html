<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <title>SVG Test</title>
  </head>
  <body>
    <object id="tree" type="image/svg+xml" data="arvore.svg">
        Your browser does not support SVG
    </object>
    <script type="text/javascript">
    document.domain = "nead.com";
    String.prototype.iluminate = function (amt) {
      var rgb = this.replace('rgb(','').replace(')','');
      var vs = rgb.split(',');
      for (var i = 0; i < vs.length; i++) {
        vs[i] = Number(Number(vs[i])+amt);
        vs[i] = vs[i]>255?255:(vs[i]<0?0:vs[i]);
      }
      return "rgb("+vs.join(",")+")";
    };
    var colors = {
        "C1":"rgb(87, 126, 182)",
        "C2":"rgb(188, 36, 36)",
        "C3":"rgb(124, 168, 90)"
    }
      var progresso = {
        "l11": "",
        "l12": "1",
        "l13": "",
        "l14": "",
        "l15": "",
        "l16": "",
        "l17": "",

        "l21": "",
        "l22": "1",
        "l23": "",
        "l24": "",
        "l25": "",
        "l26": "",
        "l27": "",

        "l31": "",
        "l32": "1",
        "l33": "",
        "l34": "",
        "l35": "",
        "l36": "",
        "l37": ""
      };
      var updateColors = function () {
        // Get the Object by ID
        var a = document.getElementById("tree");
        // Get the SVG document inside the Object tag
        var svgDoc = a.contentDocument;
        var svgItem = svgDoc.getElementsByClassName('l21');
        $(svgItem).click(function(){
          alert('ini');
          var p = GetPlayer();
          alert(p.GetVar("ex1"));
        });
        var baseInterval = 200;
        var i = 1;
        
        $.each(progresso, function (name, value) {
          setTimeout(function () {
            // Get one of the SVG items by className;
            var svgItem = svgDoc.getElementsByClassName(name);
            // Set the colour to something else
            var c = colors['C'+$(svgItem).attr('class')[1]]
            $(svgItem).attr('fill',c.iluminate(value?-50:50));
          },baseInterval*i++)
        });
      }
      var clearProgresso = function () {
        $.each(progresso,function(p,v){
            progresso[p]="";
        });
        updateColors();
      }
      var completeProgresso = function () {
        $.each(progresso,function(p,v){
            progresso[p]="1";
        });
        updateColors();
      }
      setInterval(completeProgresso,2);
    </script>
  </body>
</html>
